<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Jxo Hub</title>
<meta name="description" content="Discover apps built on the Jxo platform."/>
<meta name="theme-color" content="#1650DC"/>
<link rel="manifest" href="manifest.json"/>
<link rel="apple-touch-icon" href="icon-192.png"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet"/>
<style>
/* â”€â”€ RESET â”€â”€ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}

/* â”€â”€ TOKENS â”€â”€ */
:root{
  --b0:#0d3ab5;
  --b1:#1650DC;
  --b2:#2060f0;
  --b3:#4d82ff;
  --b4:#a8c4ff;
  --b5:#dce8ff;
  --w:#fff;
  --w80:rgba(255,255,255,.80);
  --w50:rgba(255,255,255,.50);
  --w25:rgba(255,255,255,.25);
  --w12:rgba(255,255,255,.12);
  --w06:rgba(255,255,255,.06);
  --r-sm:10px;
  --r-md:16px;
  --r-lg:22px;
  --r-xl:30px;
  --r-pill:9999px;
  --s1:0 2px 8px rgba(10,40,160,.2);
  --s2:0 8px 32px rgba(10,40,160,.32);
  --s3:0 20px 60px rgba(10,40,160,.45);
  --s4:0 40px 100px rgba(8,30,140,.55);
}

/* â”€â”€ BASE â”€â”€ */
body{
  font-family:'Outfit',sans-serif;
  background:var(--b1);
  color:var(--w);
  min-height:100vh;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}

/* animated gradient bg */
body::before{
  content:'';
  position:fixed;inset:0;
  background:
    radial-gradient(ellipse 90% 70% at 5%  -5%,  rgba(100,150,255,.40) 0%,transparent 55%),
    radial-gradient(ellipse 60% 50% at 95% 105%,  rgba(10,50,200,.60)  0%,transparent 55%),
    radial-gradient(ellipse 55% 60% at 55%  55%,  rgba(12,40,170,.30)  0%,transparent 60%);
  pointer-events:none;
  z-index:0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AUTH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#auth-screen{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center;
  z-index:800;padding:1.5rem;
}

.auth-glass{
  background:rgba(255,255,255,.10);
  backdrop-filter:blur(48px) saturate(1.8);
  -webkit-backdrop-filter:blur(48px) saturate(1.8);
  border:1px solid var(--w25);
  border-radius:var(--r-xl);
  padding:3rem 2.5rem;
  max-width:400px;width:100%;
  text-align:center;
  box-shadow:var(--s4);
  position:relative;overflow:hidden;
}

.auth-glass::before{
  content:'';position:absolute;
  top:-100px;left:-100px;
  width:250px;height:250px;
  background:radial-gradient(circle,rgba(255,255,255,.18),transparent 65%);
  pointer-events:none;
}

.auth-logo{
  display:inline-flex;align-items:center;gap:.55rem;
  margin-bottom:.5rem;
}

.auth-logo-box{
  width:44px;height:44px;
  background:var(--w);border-radius:12px;
  display:flex;align-items:center;justify-content:center;
  font-size:1.4rem;box-shadow:var(--s2);
}

.auth-logo-text{font-size:2rem;font-weight:900;letter-spacing:-.06em;}

.auth-tag{
  font-family:'Fira Code',monospace;
  font-size:.65rem;letter-spacing:.2em;text-transform:uppercase;
  color:var(--w50);margin-bottom:1.75rem;
}

.auth-desc{color:var(--w50);font-size:.9rem;line-height:1.65;margin-bottom:2rem;}

.btn-signin{
  width:100%;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
  background:var(--w);color:var(--b1);
  border:none;border-radius:var(--r-pill);
  padding:.9rem 2rem;
  font-family:'Outfit',sans-serif;font-weight:700;font-size:.95rem;
  cursor:pointer;box-shadow:var(--s2);
  transition:transform .15s,box-shadow .15s;
}
.btn-signin:hover{transform:translateY(-2px);box-shadow:var(--s3);}
.btn-signin:active{transform:none;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#app{display:none;min-height:100vh;position:relative;z-index:1;}

header{
  position:sticky;top:0;z-index:300;
  height:64px;
  display:flex;align-items:center;gap:1rem;
  padding:0 1.5rem;
  background:rgba(22,80,220,.70);
  backdrop-filter:blur(28px) saturate(2);
  -webkit-backdrop-filter:blur(28px) saturate(2);
  border-bottom:1px solid var(--w12);
}

.logo{display:flex;align-items:center;gap:.45rem;text-decoration:none;flex-shrink:0;}

.logo-box{
  width:30px;height:30px;
  background:var(--w);border-radius:7px;
  display:flex;align-items:center;justify-content:center;
  font-size:.9rem;
}

.logo-name{font-size:1.05rem;font-weight:800;letter-spacing:-.04em;color:var(--w);}

/* search */
.search{flex:1;max-width:440px;position:relative;}

.search input{
  width:100%;height:38px;
  background:var(--w12);
  border:1.5px solid var(--w25);
  border-radius:var(--r-pill);
  color:var(--w);
  padding:0 1rem 0 2.7rem;
  font-family:'Outfit',sans-serif;font-size:.875rem;font-weight:500;
  outline:none;
  transition:background .2s,border-color .2s;
}
.search input::placeholder{color:var(--w50);}
.search input:focus{background:var(--w25);border-color:var(--w50);}

.search-ic{
  position:absolute;left:.8rem;top:50%;transform:translateY(-50%);
  color:var(--w50);pointer-events:none;line-height:0;
}
.search-ic svg{width:15px;height:15px;}

/* header right */
.hdr-right{margin-left:auto;display:flex;align-items:center;gap:.5rem;flex-shrink:0;}

.user-pill{
  display:flex;align-items:center;gap:.5rem;
  background:var(--w12);border:1.5px solid var(--w25);
  border-radius:var(--r-pill);
  padding:.2rem .8rem .2rem .25rem;
  cursor:pointer;text-decoration:none;color:var(--w);
  transition:background .2s,border-color .2s;
}
.user-pill:hover{background:var(--w25);border-color:var(--w50);}

.av{
  width:26px;height:26px;border-radius:50%;
  background:var(--b3);border:2px solid var(--w25);
  display:flex;align-items:center;justify-content:center;
  font-size:.65rem;font-weight:700;overflow:hidden;flex-shrink:0;
}
.av img{width:100%;height:100%;object-fit:cover;}

.uname{font-size:.8rem;font-weight:600;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}

.btn-out{
  background:none;border:1.5px solid var(--w25);color:var(--w50);
  border-radius:var(--r-pill);padding:.3rem .75rem;
  font-family:'Outfit',sans-serif;font-weight:600;font-size:.75rem;
  cursor:pointer;transition:color .2s,border-color .2s,background .2s;
}
.btn-out:hover{color:var(--w);border-color:var(--w50);background:var(--w06);}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
main{max-width:1180px;margin:0 auto;padding:2.25rem 1.5rem 9rem;}

/* hero */
.hero{
  background:var(--w06);
  border:1px solid var(--w12);
  border-radius:var(--r-xl);
  padding:3.5rem 3rem;
  margin-bottom:2.5rem;
  position:relative;overflow:hidden;
}

.hero-glow{
  position:absolute;top:-80px;right:-80px;
  width:300px;height:300px;border-radius:50%;
  background:radial-gradient(circle,rgba(120,160,255,.22),transparent 68%);
  pointer-events:none;
}

.hero-pill{
  display:inline-flex;align-items:center;gap:.4rem;
  background:var(--w12);border:1px solid var(--w25);
  border-radius:var(--r-pill);
  padding:.2rem .75rem;
  font-family:'Fira Code',monospace;font-size:.62rem;
  letter-spacing:.14em;text-transform:uppercase;color:var(--w80);
  margin-bottom:1.2rem;
}

.hero-dot{
  width:6px;height:6px;border-radius:50%;
  background:#6dffa0;
  animation:blink-dot 2.2s ease-in-out infinite;
}

@keyframes blink-dot{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.4;transform:scale(.8)}}

.hero h1{
  font-size:clamp(2rem,5vw,3.6rem);
  font-weight:900;letter-spacing:-.06em;line-height:1.03;
  margin-bottom:.7rem;
}

.hero h1 em{font-style:normal;color:var(--b4);}

.hero p{color:var(--w50);font-size:.95rem;line-height:1.65;max-width:400px;}

/* section label */
.sec-row{display:flex;align-items:center;gap:.7rem;margin-bottom:1.2rem;}

.sec-label{
  font-family:'Fira Code',monospace;
  font-size:.62rem;letter-spacing:.18em;text-transform:uppercase;color:var(--w50);
  white-space:nowrap;
}

.sec-line{flex:1;height:1px;background:var(--w12);}

.sec-badge{
  background:var(--w12);border-radius:var(--r-pill);
  padding:.1rem .55rem;
  font-family:'Fira Code',monospace;font-size:.62rem;color:var(--w50);
}

/* jxo search */
#jxo-sec{display:none;margin-bottom:2rem;}

.jxo-link{
  display:flex;align-items:center;gap:.75rem;
  background:var(--w06);border:1px solid var(--w12);
  border-radius:var(--r-md);padding:1rem 1.2rem;
  text-decoration:none;color:var(--w);
  transition:background .15s,border-color .15s;
}
.jxo-link:hover{background:var(--w12);border-color:var(--w25);}

.jxo-link-ico{
  width:36px;height:36px;border-radius:9px;
  background:var(--b3);
  display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0;
}
.jxo-link-title{font-weight:600;font-size:.88rem;margin-bottom:.1rem;}
.jxo-link-url{font-family:'Fira Code',monospace;font-size:.65rem;color:var(--b4);}

/* apps grid */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(236px,1fr));
  gap:1rem;
}

/* skeleton */
.skel{
  background:var(--w06);border:1px solid var(--w12);
  border-radius:var(--r-lg);padding:1.5rem;
  animation:skel-pulse 1.7s ease-in-out infinite;
}
@keyframes skel-pulse{0%,100%{opacity:.5}50%{opacity:.85}}
.skel-b{background:var(--w12);border-radius:5px;margin-bottom:.7rem;}

/* card */
.card{
  background:var(--w06);border:1px solid var(--w12);
  border-radius:var(--r-lg);padding:1.5rem;
  cursor:pointer;position:relative;overflow:hidden;
  transition:background .18s,border-color .18s,transform .18s,box-shadow .18s;
  animation:card-in .35s cubic-bezier(.22,1,.36,1) both;
}
@keyframes card-in{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:none}}

.card:hover{
  background:var(--w12);border-color:var(--w25);
  transform:translateY(-3px);box-shadow:var(--s2);
}

.card-arrow{
  position:absolute;top:1.2rem;right:1.2rem;
  color:var(--w50);font-size:.85rem;
  opacity:0;transform:translate(-2px,2px);
  transition:opacity .18s,transform .18s;
}
.card:hover .card-arrow{opacity:1;transform:none;}

.card-icon{
  width:50px;height:50px;border-radius:13px;
  background:var(--b2);border:1px solid var(--w12);
  display:flex;align-items:center;justify-content:center;
  font-size:1.5rem;margin-bottom:.95rem;overflow:hidden;flex-shrink:0;
}
.card-icon img{width:100%;height:100%;object-fit:cover;border-radius:13px;}

.card-name{font-size:1rem;font-weight:700;letter-spacing:-.03em;margin-bottom:.2rem;}
.card-author{font-family:'Fira Code',monospace;font-size:.65rem;color:var(--b4);margin-bottom:.6rem;}
.card-desc{font-size:.82rem;color:var(--w50);line-height:1.55;
  display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;}

/* empty */
.empty{grid-column:1/-1;text-align:center;padding:4rem 1rem;color:var(--w50);}
.empty-icon{font-size:2.5rem;margin-bottom:.75rem;}
.empty p{font-size:.88rem;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   OZO FAB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#ozo-fab{
  position:fixed;bottom:1.75rem;right:1.75rem;
  z-index:600;
  width:54px;height:54px;border-radius:50%;
  background:var(--w);border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  box-shadow:var(--s3);
  transition:transform .2s cubic-bezier(.34,1.56,.64,1),box-shadow .2s;
}
#ozo-fab:hover{transform:scale(1.12);box-shadow:var(--s4);}
#ozo-fab svg{width:28px;height:28px;display:block;}

.fab-dot{
  position:absolute;top:-2px;right:-2px;
  width:13px;height:13px;border-radius:50%;
  background:#6dffa0;border:2.5px solid var(--b1);
}

#ozo-tip{
  position:fixed;bottom:2rem;right:5rem;z-index:600;
  background:var(--w);color:var(--b1);
  border-radius:var(--r-pill);padding:.38rem .9rem;
  font-size:.76rem;font-weight:700;white-space:nowrap;
  box-shadow:var(--s2);pointer-events:none;
  opacity:0;transform:translateX(6px);
  transition:opacity .2s,transform .2s;
}
#ozo-fab:hover~#ozo-tip{opacity:1;transform:none;}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   OZO PANEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#ozo-panel{
  position:fixed;
  bottom:5.5rem;right:1.75rem;
  z-index:590;
  width:390px;
  height:580px;
  max-width:calc(100vw - 3.5rem);
  max-height:calc(100dvh - 8rem);
  display:none;
  flex-direction:column;
  border-radius:var(--r-xl);
  overflow:hidden;
  box-shadow:var(--s4);
  border:1.5px solid var(--w25);
}

#ozo-panel.open{
  display:flex;
  animation:pop-in .28s cubic-bezier(.34,1.56,.64,1) both;
}

@keyframes pop-in{
  from{opacity:0;transform:scale(.88) translateY(14px);}
  to{opacity:1;transform:none;}
}

/* panel top bar */
.ozo-bar{
  display:flex;align-items:center;gap:.6rem;
  padding:.8rem 1rem;
  background:var(--b0);
  border-bottom:1px solid var(--w12);
  flex-shrink:0;
}

.ozo-av{
  width:30px;height:30px;border-radius:50%;
  background:linear-gradient(135deg,var(--b4),#6dffa0);
  display:flex;align-items:center;justify-content:center;
  font-size:.85rem;font-weight:900;color:var(--b0);
  flex-shrink:0;
}

.ozo-info{flex:1;min-width:0;}
.ozo-name{font-size:.84rem;font-weight:700;line-height:1;}
.ozo-status{
  font-family:'Fira Code',monospace;font-size:.58rem;
  color:#6dffa0;letter-spacing:.06em;
}

.ozo-close{
  width:28px;height:28px;border-radius:50%;
  background:var(--w12);border:none;
  color:var(--w50);font-size:1.1rem;line-height:1;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:background .15s,color .15s;
}
.ozo-close:hover{background:var(--w25);color:var(--w);}

/*
  THE IFRAME â€” this is the key:
  flex:1 makes it fill ALL remaining height below the bar.
  width:100% + border:none = seamless full embed.
  No wrapper div, no scrolling container â€” just the iframe directly.
*/
#ozo-iframe{
  flex:1;
  width:100%;
  border:none;
  display:block;
  background:var(--b1);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INSTALL BANNER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
#install-banner{
  display:none;
  position:fixed;bottom:0;left:0;right:0;z-index:400;
  align-items:center;gap:1rem;
  padding:1rem 1.5rem;
  background:rgba(13,58,181,.94);
  backdrop-filter:blur(16px);
  border-top:1px solid var(--w12);
}
#install-banner p{flex:1;font-size:.85rem;color:var(--w50);}
#install-banner p strong{color:var(--w);}

.btn-install{
  background:var(--w);color:var(--b1);
  border:none;border-radius:var(--r-pill);
  padding:.55rem 1.25rem;
  font-family:'Outfit',sans-serif;font-weight:700;font-size:.82rem;
  cursor:pointer;white-space:nowrap;
  transition:opacity .15s;
}
.btn-install:hover{opacity:.88;}

.btn-x{
  background:none;border:none;color:var(--w50);
  font-size:1.3rem;cursor:pointer;line-height:1;
  transition:color .15s;
}
.btn-x:hover{color:var(--w);}

/* â”€â”€ MOBILE â”€â”€ */
@media(max-width:600px){
  header{padding:0 1rem;}
  main{padding:1.5rem 1rem 9rem;}
  .hero{padding:2rem 1.5rem;}
  #ozo-panel{
    right:0;bottom:0;width:100vw;max-width:100vw;
    height:100dvh;max-height:100dvh;
    border-radius:0;border:none;
  }
}
</style>
</head>
<body>

<!-- â”€â”€ AUTH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="auth-screen">
  <div class="auth-glass">
    <div class="auth-logo">
      <div class="auth-logo-box">ğŸš€</div>
      <span class="auth-logo-text">JxoHub</span>
    </div>
    <div class="auth-tag">App Discovery Platform</div>
    <p class="auth-desc">Sign in with your Jxo account to browse and launch apps from the Jxo ecosystem.</p>
    <button class="btn-signin" onclick="Jxo.login()">
      <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
        <polyline points="10 17 15 12 10 7"/>
        <line x1="15" y1="12" x2="3" y2="12"/>
      </svg>
      Sign in with Jxo
    </button>
  </div>
</div>

<!-- â”€â”€ APP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="app">

  <header>
    <a class="logo" href="#">
      <div class="logo-box">ğŸš€</div>
      <span class="logo-name">JxoHub</span>
    </a>

    <div class="search">
      <span class="search-ic">
        <svg fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
        </svg>
      </span>
      <input id="search-input" type="text" placeholder="Search appsâ€¦" autocomplete="off" spellcheck="false"/>
    </div>

    <div class="hdr-right">
      <div class="user-pill" onclick="Jxo.openAccountManager()">
        <div class="av" id="av">
          <span id="av-init">?</span>
        </div>
        <span class="uname" id="uname">â€¦</span>
      </div>
      <button class="btn-out" onclick="doSignOut()">Sign out</button>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="hero">
      <div class="hero-glow"></div>
      <div class="hero-pill"><span class="hero-dot"></span> Jxo Ecosystem</div>
      <h1>Discover <em>apps</em><br/>built on Jxo.</h1>
      <p>Curated tools and experiences from the community. One click to launch.</p>
    </section>

    <!-- Jxo web search result -->
    <div id="jxo-sec">
      <div class="sec-row">
        <span class="sec-label">Jxo Web</span>
        <div class="sec-line"></div>
      </div>
      <div id="jxo-inner"></div>
    </div>

    <!-- Apps -->
    <div class="sec-row">
      <span class="sec-label" id="apps-label-text">All Apps</span>
      <div class="sec-line"></div>
      <span class="sec-badge" id="apps-count">â€”</span>
    </div>

    <div class="grid" id="grid">
      <div class="skel">
        <div class="skel-b" style="width:50px;height:50px;border-radius:13px;margin-bottom:.95rem;"></div>
        <div class="skel-b" style="width:62%;height:12px;"></div>
        <div class="skel-b" style="width:38%;height:9px;"></div>
        <div class="skel-b" style="width:88%;height:9px;"></div>
        <div class="skel-b" style="width:72%;height:9px;"></div>
      </div>
      <div class="skel">
        <div class="skel-b" style="width:50px;height:50px;border-radius:13px;margin-bottom:.95rem;"></div>
        <div class="skel-b" style="width:50%;height:12px;"></div>
        <div class="skel-b" style="width:32%;height:9px;"></div>
        <div class="skel-b" style="width:92%;height:9px;"></div>
        <div class="skel-b" style="width:68%;height:9px;"></div>
      </div>
      <div class="skel">
        <div class="skel-b" style="width:50px;height:50px;border-radius:13px;margin-bottom:.95rem;"></div>
        <div class="skel-b" style="width:72%;height:12px;"></div>
        <div class="skel-b" style="width:45%;height:9px;"></div>
        <div class="skel-b" style="width:80%;height:9px;"></div>
        <div class="skel-b" style="width:60%;height:9px;"></div>
      </div>
      <div class="skel">
        <div class="skel-b" style="width:50px;height:50px;border-radius:13px;margin-bottom:.95rem;"></div>
        <div class="skel-b" style="width:56%;height:12px;"></div>
        <div class="skel-b" style="width:28%;height:9px;"></div>
        <div class="skel-b" style="width:84%;height:9px;"></div>
        <div class="skel-b" style="width:76%;height:9px;"></div>
      </div>
    </div>
  </main>

  <!-- OZO FAB -->
  <button id="ozo-fab" onclick="toggleOzo()" aria-label="Open Ozo AI">
    <div class="fab-dot"></div>
    <!-- Inline SVG: sparkle star in blue circle -->
    <svg viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="27" cy="27" r="27" fill="#1650DC"/>
      <path d="M27 10 L29.5 24 L43 27 L29.5 30 L27 44 L24.5 30 L11 27 L24.5 24 Z" fill="white"/>
      <circle cx="36" cy="17" r="2" fill="white" opacity=".65"/>
      <circle cx="16" cy="38" r="1.4" fill="white" opacity=".45"/>
    </svg>
  </button>
  <div id="ozo-tip">Ask Ozo AI</div>

  <!-- OZO PANEL -->
  <div id="ozo-panel">
    <!-- Top bar -->
    <div class="ozo-bar">
      <div class="ozo-av">O</div>
      <div class="ozo-info">
        <div class="ozo-name">Ozo</div>
        <div class="ozo-status">â— online</div>
      </div>
      <button class="ozo-close" onclick="toggleOzo()" aria-label="Close Ozo">&#x2715;</button>
    </div>

    <!--
      IFRAME â€” src stays "about:blank" until first open (perf).
      On open: src is set to https://jxoj.github.io/Ozo
      flex:1 in CSS makes it fill the entire remaining panel height.
    -->
    <iframe
      id="ozo-iframe"
      src="about:blank"
      allow="microphone; camera; autoplay; clipboard-read; clipboard-write; fullscreen"
      referrerpolicy="no-referrer-when-downgrade"
    ></iframe>
  </div>

  <!-- INSTALL BANNER -->
  <div id="install-banner">
    <p><strong>Install Jxo Hub</strong> â€” Add to home screen for the best experience.</p>
    <button class="btn-install" id="btn-install">Install</button>
    <button class="btn-x" onclick="dismissInstall()">&#x2715;</button>
  </div>

</div><!-- /#app -->

<!-- JXO SDK -->
<script src="https://jxoj.github.io/Jxo/sdk.js"></script>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
var allApps = [];
var ozoOpen = false;
var ozoLoaded = false;
var deferredPrompt = null;
var searchTimer = null;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BOOT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(async function boot() {
  try { await Jxo.init('com.jxo.hub'); } catch(e) { console.warn('SDK:', e); }

  if (Jxo.isAuthenticated()) {
    showApp();
  } else {
    document.getElementById('auth-screen').style.display = 'flex';
    document.getElementById('app').style.display = 'none';
  }
})();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SHOW APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function showApp() {
  document.getElementById('auth-screen').style.display = 'none';
  document.getElementById('app').style.display = 'block';
  populateUser();
  fetchApps();
  initSearch();
  registerSW();
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   USER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function populateUser() {
  var u = Jxo.getUser();
  if (!u) return;
  var name = u.displayName || u.email || 'User';
  document.getElementById('uname').textContent = name.split(' ')[0];
  var avEl = document.getElementById('av');
  if (u.photoURL) {
    avEl.innerHTML = '<img src="' + h(u.photoURL) + '" alt="' + h(name) + '" onerror="this.outerHTML=\'<span>' + h(name[0].toUpperCase()) + '</span>\'">';
  } else {
    document.getElementById('av-init').textContent = name[0].toUpperCase();
  }
}

function doSignOut() { Jxo.signOut(); location.reload(); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   APPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function fetchApps() {
  try {
    var res = await fetch('https://usejxo.github.io/Jxo-Hub/apps.json');
    if (!res.ok) throw 0;
    var data = await res.json();
    allApps = data.apps || [];
    renderApps(allApps);
  } catch(_) {
    renderError();
  }
}

function renderApps(list) {
  var grid = document.getElementById('grid');
  var count = document.getElementById('apps-count');
  count.textContent = list.length;

  if (!list.length) {
    grid.innerHTML = '<div class="empty"><div class="empty-icon">ğŸ”</div><p>No apps found.</p></div>';
    return;
  }

  grid.innerHTML = list.map(function(app, i) {
    return '<div class="card" style="animation-delay:' + (i * 0.045) + 's" onclick="openApp(\'' + h(app.url) + '\')">' +
      '<div class="card-arrow">â†—</div>' +
      '<div class="card-icon">' +
        (app.icon
          ? '<img src="' + h(app.icon) + '" alt="' + h(app.name) + '" onerror="this.outerHTML=\'ğŸ“¦\'">'
          : 'ğŸ“¦') +
      '</div>' +
      '<div class="card-name">' + esc(app.name) + '</div>' +
      '<div class="card-author">by ' + esc(app.author) + '</div>' +
      '<div class="card-desc">' + esc(app.description) + '</div>' +
    '</div>';
  }).join('');
}

function renderError() {
  document.getElementById('grid').innerHTML =
    '<div class="empty"><div class="empty-icon">ğŸ“¡</div><p>Could not load apps. Check connection.</p></div>';
  document.getElementById('apps-count').textContent = '!';
}

function openApp(url) { window.open(url, '_blank', 'noopener,noreferrer'); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SEARCH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function initSearch() {
  var inp = document.getElementById('search-input');

  inp.addEventListener('input', function() {
    clearTimeout(searchTimer);
    var q = inp.value.trim();
    if (!q) { clearSearch(); return; }

    var lq = q.toLowerCase();
    renderApps(allApps.filter(function(a) {
      return (a.name + a.description + a.author).toLowerCase().includes(lq);
    }));
    document.getElementById('apps-label-text').textContent = 'Matching Apps';

    searchTimer = setTimeout(function() { showJxoLink(q); }, 450);
  });

  inp.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') { inp.value = ''; clearSearch(); }
  });
}

function clearSearch() {
  renderApps(allApps);
  document.getElementById('apps-label-text').textContent = 'All Apps';
  document.getElementById('jxo-sec').style.display = 'none';
}

function showJxoLink(q) {
  var sec = document.getElementById('jxo-sec');
  sec.style.display = 'block';
  document.getElementById('jxo-inner').innerHTML =
    '<a class="jxo-link" href="https://jxoj.github.io/Jxo?q=' + encodeURIComponent(q) + '" target="_blank" rel="noopener">' +
      '<div class="jxo-link-ico">ğŸ”</div>' +
      '<div>' +
        '<div class="jxo-link-title">Search Jxo for "' + esc(q) + '"</div>' +
        '<div class="jxo-link-url">jxoj.github.io/Jxo</div>' +
      '</div>' +
    '</a>';
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   OZO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function toggleOzo() {
  var panel = document.getElementById('ozo-panel');
  var iframe = document.getElementById('ozo-iframe');
  ozoOpen = !ozoOpen;

  if (ozoOpen) {
    // Load iframe only on first open
    if (!ozoLoaded) {
      iframe.src = 'https://jxoj.github.io/Ozo';
      ozoLoaded = true;
    }
    panel.classList.add('open');
  } else {
    panel.classList.remove('open');
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PWA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
window.addEventListener('beforeinstallprompt', function(e) {
  e.preventDefault();
  deferredPrompt = e;
  if (!sessionStorage.getItem('jxo-no-install')) {
    document.getElementById('install-banner').style.display = 'flex';
  }
});

document.getElementById('btn-install').addEventListener('click', async function() {
  if (!deferredPrompt) return;
  deferredPrompt.prompt();
  var r = await deferredPrompt.userChoice;
  if (r.outcome === 'accepted') dismissInstall();
  deferredPrompt = null;
});

function dismissInstall() {
  document.getElementById('install-banner').style.display = 'none';
  sessionStorage.setItem('jxo-no-install', '1');
}

function registerSW() {
  if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js').catch(function(){});
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   UTILS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function esc(s) {
  return String(s)
    .replace(/&/g,'&amp;').replace(/</g,'&lt;')
    .replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}
function h(s) { return String(s).replace(/"/g,'&quot;').replace(/'/g,'&#39;'); }
</script>
</body>
</html>